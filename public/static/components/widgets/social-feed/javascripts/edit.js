"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),EditSocialFeedWidget=function(){function t(){_classCallCheck(this,t),this.topWindow=window.top,this.topModal=this.topWindow.$(".modal-content"),this.form=this.topModal.find("form"),this.fieldset=this.topModal.find("fieldset"),this.sortableElem=this.topModal.find(".social-order"),this.sortable=this.buildSortable(),this.wrapperClass(),this.socialOptions(),this.socialToggle()}return _createClass(t,[{key:"buildSortable",value:function(){return new Sortable(this.sortableElem[0],{sort:!0,group:"social",draggable:".item",ghostClass:"ghost",chosenClass:"chosen",dataIdAttr:"data-class",store:{get:function(t){var e=t.toArray(),o={},i=[];return e.forEach(function(t,e){var i=$("."+t+" input:text").val();o[i]=t}),Object.keys(o).forEach(function(t){i.push(o[t])}),i},set:function(t){var e=t.toArray();e.forEach(function(t,e){$("."+t+" input:text").val(e+1)})}}})}},{key:"socialOptions",value:function(){this.fieldset.each(function(t,e){var o=$(e),i=o.find(".on-off-toggle input[type='checkbox']");if(0!==i.length)if($(i).is(":checked")){var n=o.parent();n.css({display:"block"})&&n.slideDown("slow")}else o.find(".social-opts").hide()})}},{key:"socialToggle",value:function(){this.form.find(".on-off-toggle").each(function(t,e){var o=$(e).find("input[type='checkbox']");o.change(function(t){var e=$(t.currentTarget),o=e.closest(".on-off-toggle").parent().next();e.is(":checked")?o.slideDown("slow"):o.slideUp("slow")})})}},{key:"wrapperClass",value:function(){this.fieldset.each(function(t,e){var o=$(e),i=o.find(".on-off-toggle");if(1===i.length){var n=o.closest("fieldset").find(".form-field:not(.on-off-toggle)");n.wrapAll('<div class="social-opts" />')}})}}]),t}();new EditSocialFeedWidget;