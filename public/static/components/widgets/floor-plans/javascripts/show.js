(function(){var t;t=function(){function t(t){this.configs=t,this.widget=$("#"+this.configs.widgetId),this.setupFloorplans()}return t.prototype.setupFloorplans=function(t){var i,n,e;return n=30,i=t.clientUrn.replace(/-c-/,"-cpas-"),i=i.substring(0,n),"-"===i[i.length-1]&&(i=i.slice(0,-1)),e=t.locationUrn,i&&e&&this.getPricing(i,e),this.widget.find(".floorplan-btn").fancybox(),$(window).smartresize(function(){return this.resetPricingHeight()})},t.prototype.getPricing=function(t,i){var n,e;return e="https://"+t+".herokuapp.com/locations/"+i+"/widget",n='<div id="loading-floorplans"><div class="loader">Loading&hellip;</div>Loading Pricing &amp; Availibility Information&hellip;</div>',$.ajax({type:"GET",url:e}).done(function(t){return this.appendFloorplans(t,n),this.setupFilters()})},t.prototype.appendFloorplans=function(t,i){var n,e,r,o;return this.widget.hide(),$("[role=main]").append(i),n=$(t),e=n.find(".e-content"),this.widget.append(e).fadeIn(),$("#loading-floorplans").fadeOut().remove(),r=this.widget.find("img"),o=0,$.each(r,function(t){return function(i,n){return $(n).load(function(){if(o++,o===r.length)return t.setPricingHeight()})}}(this))},t.prototype.setPricingHeight=function(){var t;return t=this.widget.outerHeight(),this.widget.css("height",t)},t.prototype.resetPricingHeight=function(){return this.widget.css("height","auto"),this.setPricingHeight()},t.prototype.setupFilters=function(){var t;return t=this.widget.find(".floorplan"),this.widget.find(".filters input[type=radio]").each(function(){var i;if(i=$(this).attr("id"),!t.hasClass(i)&&!i.match(/^\w+-all/))return $(this).prop("disabled",!0).next().addClass("disabled")}),this.widget.find(".filters input").on("change",function(i){var n,e,r,o;return r=$("#beds-filter input:checked").val(),n=$("#baths-filter input:checked").val(),o="",e="","beds-all"===r&&"baths-all"===n?t.fadeIn():("beds-all"!==r&&(o="."+r),"baths-all"!==n&&(e="."+n),t.fadeOut(),$(o+e).fadeIn("fast"))})},t}(),G5.loadWidgetConfigs(".floorplans .config",t)}).call(this);