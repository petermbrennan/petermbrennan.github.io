(function(){var t,n;n=function(){function t(){this.dropTarget=$("#drop-target-nav"),this.corporateMenu=this.dropTarget.find(".corporate-navigation"),this.locationMenu=this.dropTarget.find(".navigation"),this.path=location.pathname.match(/([^\/]*)\/*$/)[1],this.setupMenus(),this.dropTarget.find(".has-subnav").length>0&&$("body").on("click",function(t){return function(n){t.resetSubNav()}}(this)),$(window).smartresize(function(t){return function(){return t.setMenuHeights()}}(this)),$(this).trigger("navigationReady")}return t.prototype.setActiveMenu=function(t){return t.find('a[href$="/'+this.path+'"]').addClass("active")},t.prototype.setMenuHeights=function(){if(this.corporateMenu.length>0&&this.setMenuHeight(this.corporateMenu),this.locationMenu.length>0)return this.setMenuHeight(this.locationMenu)},t.prototype.setMenuHeight=function(t){return t.css({maxHeight:$(window).height()-$("header[role=banner] .collapsable-btn").outerHeight(!0)+"px"})},t.prototype.setupMenus=function(){if(this.corporateMenu.length>0&&this.setupMenu(this.corporateMenu),this.locationMenu.length>0)return this.setupMenu(this.locationMenu)},t.prototype.setupMenu=function(t){if(this.setActiveMenu(t),this.setMenuHeight(t),t.find(".has-subnav").length>0)return this.setupSubNav(t)},t.prototype.setupSubNav=function(t){return t.find(".has-subnav > a").on("click",function(t){return function(n){var e;return e=$(n.currentTarget),t.closeSubNav(t.corporateMenu.find(".subnav").not(e.next())),t.closeSubNav(t.locationMenu.find(".subnav").not(e.next())),t.toggleSubNav(e.next()),window.noEvent(n)}}(this))},t.prototype.closeSubNav=function(t){return t.removeClass("show-subnav"),t.parent().removeClass("subnav-open")},t.prototype.toggleSubNav=function(t){return t.toggleClass("show-subnav"),t.parent().toggleClass("subnav-open")},t.prototype.resetSubNav=function(){return this.closeSubNav(this.corporateMenu.find(".subnav")),this.closeSubNav(this.locationMenu.find(".subnav"))},t}(),t=new n}).call(this);