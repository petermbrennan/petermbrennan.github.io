(function(){var t;t=function(){function t(t){this.configs=t,this.FULL_WIDTH=910,this.addresses=this.configs.addresses,this.panZoom=this.configs.panZoom,this.mapType=this.configs.mapType,this.cpnsUrl=this.configs.cpnsUrl,this.clientUrn=this.configs.clientUrn,this.widgetId=this.configs.widgetId,this.widget=$("#"+this.widgetId),this.canvas=this.widget.find(".canvas"),this.map=null,this.latLngBounds=null,this.setPhones(),this.setResize(),G5.googleMapsApi.registerWidget(this,"setComarketingMap")}return t.prototype.setComarketingMap=function(){this.setMap(),this.setAddresses()},t.prototype.setMap=function(){var t;t={scrollwheel:this.panZoom,draggable:this.panZoom,disableDefaultUI:!this.panZoom,disableDoubleClickZoom:!this.panZoom,zoom:16,mapTypeId:google.maps.MapTypeId[this.mapType]},this.map=new google.maps.Map(this.canvas[0],t)},t.prototype.setAddresses=function(){var t,s;for(this.latLngBounds=new google.maps.LatLngBounds,s=0;s<this.addresses.length;)t=this.addresses[s],this.setMapMarker(t[0],t[1],s,this.addresses.length),s++},t.prototype.setMapMarker=function(t,s,e,n){$.getJSON(G5.googleMapsApi.geocodeUrl(),{address:t,sensor:"false"}).done(function(e){return function(n){var i,o,a,r;i=n.results[0].geometry.location,a=new google.maps.LatLng(i.lat,i.lng),r=new google.maps.Marker({position:a,map:e.map,title:t}),o=new google.maps.InfoWindow({content:s}),google.maps.event.addListener(r,"click",function(){o.open(e.map,r)}),e.latLngBounds.extend(a),e.map.fitBounds(e.latLngBounds)}}(this))},t.prototype.setPhones=function(){return this.phoneNumber=new PhoneNumber(this.getPhoneConfigs())},t.prototype.getPhoneConfigs=function(){var t;return t={cpnsUrl:this.cpnsUrl,clientUrn:this.clientUrn,locationUrns:this.locationUrns()}},t.prototype.locationUrns=function(){return this.widget.find(".area-page-location").map(function(t){return function(s,e){var n;return n=$(e).attr("data-location-urn"),{urn:n,scope:"#"+t.widgetId+" div[data-location-urn="+n+"]"}}}(this))},t.prototype.setResize=function(){return $(window).on("resize orientationchange",function(t){return function(s){return t.resize()}}(this)),this.resize()},t.prototype.resize=function(){return this.widget.width()<=this.FULL_WIDTH?this.widget.addClass("small"):this.widget.removeClass("small")},t}(),G5.loadWidgetConfigs(".comarketing .config",t)}).call(this);